window.Random=function(b,e){return Math.floor(Math.random()*(e-b+1))+b};function qj(b){return new qj.qjObject(b)}
(function(b){function e(a,b,d){var c="__"+b;a.__defineGetter__(b,function(){return this[c]});a.__defineSetter__(b,function(a){this[c]=a;d.call(this,a)})}b.width=800;b.height=600;var f={x:function(a){a=this.followOffset?a+b.positionOffset.x:a;this.element.style.left=a+"px";this.offsetX=a},y:function(a){a=this.followOffset?a+b.positionOffset.y:a;this.element.style.top=a+"px";this.offsetY=a},w:function(a){this.element.style.width=a+"px"},opacity:function(a){this.element.style.opacity=a},h:function(a){this.element.style.height=
a+"px"},src:function(a){this.element.src=a},html:function(a){this.element.innerHTML=a},text:function(a){this.element.innerText=a},style:{textAlign:function(a){"left"==a?this.justifyContent="flex-start":"center"==a?this.justifyContent="center":"right"==a&&(this.justifyContent="flex-end");return["justifyContent"]},verticalAlign:function(a){"top"==a?this.alignItems="flex-start":"center"==a?this.alignItems="center":"bottom"==a&&(this.alignItems="flex-end");return["alignItems"]},textStyle:function(a){a=
a.split(" ");this.fontWeight=-1<a.indexOf("bold")?"bold":"none";this.textDecoration=-1<a.indexOf("underline")?"underline":"none";this.fontStyle=-1<a.indexOf("italic")?"italic":"none";return["fontWeight","textDecoration","fontStyle"]}},__pseudoclass__:function(a,c){for(var d="#"+this.id+":"+c+" {",k=Object.keys(a),e=k.length,g,h=0;h<e;h++)if(g=k[h],f.style.hasOwnProperty(g)){if(g=f.style[g].call(a,a[g]))k=k.concat(g),e+=g.length}else d+=g.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+a[g]+" !important;";
b.style.innerHTML+=d+"}"},hover:function(a){f.__pseudoclass__.call(this,a,"hover")},active:function(a){f.__pseudoclass__.call(this,a,"active")}},h=function(){function a(c){this.followOffset=!0;this.detached=!1;this.h=this.w=this.y=this.x=null;this.text=this.html="";this.src=void 0;"image"==c.type||c.hasOwnProperty("src")?(c.type="image",this.element=document.createElement("img"),this.element.className="qj image",this.element.draggable=!1):(c.type="rect",this.element=document.createElement("div"),
this.element.className="qj "+c.type);b.container.appendChild(this.element);a.counter++;this.id="qj_"+String(a.counter);this.element.id=this.id;this.style=this.element.style;this.followOffset=c.hasOwnProperty("followOffset")?c.followOffset:!0;e(this,"x",f.x);e(this,"y",f.y);e(this,"w",f.w);e(this,"h",f.h);e(this,"src",f.src);e(this,"html",f.html);e(this,"text",f.text);e(this.style,"textAlign",f.style.textAlign);e(this.style,"verticalAlign",f.style.verticalAlign);e(this.style,"textStyle",f.style.textStyle);
e(this,"hover",f.hover);e(this,"active",f.active);if(c.hasOwnProperty("style"))for(var d in c.style)this.style[d]=c.style[d];for(d in c)"style"!=d&&(this[d]=c[d]);b.stages[currentStage].objects.push(this)}a.prototype.hide=function(){this.style.display="none";this.element.style.display="none"};a.prototype.show=function(){this.style.display="";this.element.style.display=""};a.prototype.detach=function(){this.detached||(this.element=b.container.removeChild(this.element),this.detached=!0)};a.prototype.attach=
function(){this.detached&&(b.container.appendChild(this.element),this.detached=!1)};a.prototype.on=function(a,b){this.element.addEventListener(a,b)};a.prototype.click=function(){this.element.click()};a.prototype.off=function(){for(var a=this.element.cloneNode();this.element.firstChild;)a.appendChild(this.element.lastChild);this.element.parentNode.replaceChild(a,this.element);this.element=a};a.prototype.collide=function(a){var b=this,c=a;for(a=0;2>a;a++){if(b.x>=c.x&&b.x<=c.x+c.w||b.x+b.w>=c.x&&b.x+
b.w<=c.x+c.w)if(b.y>=c.y&&b.y<=c.y+c.h||b.y+b.h>=c.y&&b.y+b.h<=c.y+c.h)return!0;c=[c,b];b=c[0];c=c[1]}return!1};a.counter=0;return a}();b.qjObject=h;b.stages={};var l=function(){function a(a){this.setup_run=!1;this.positionOffset={__x:0,__y:0};this.keydownFunc={};for(var c in a)this[c]=a[c];var f=this.stage;e(this.positionOffset,"x",function(a){f==b.stage_name&&(b.positionOffset.x=a)});e(this.positionOffset,"y",function(a){f==b.stage_name&&(b.positionOffset.y=a)})}a.prototype.keydown=function(a,b,
e){this.keydownFunc.hasOwnProperty(a.toString())||(this.keydownFunc[a]=[]);this.keydownFunc[a].push(b)};a.prototype.cleanup=function(){for(var a=0,b=this.objects;a<b.length;a++)b[a].detach();this.stop_frame_func&&this.stop_frame_func()};a.prototype.setup=function(){currentStage=this.stage;this.setup_run||(this.setup_func.call(this),this.setup_run=!0);for(var a=0,d=this.objects;a<d.length;a++)d[a].attach();b.positionOffset.x=this.positionOffset.x;b.positionOffset.y=this.positionOffset.y;this.frame_func&&
(this.stop_frame_func=b.frame(this.frame_func))};return a}();e(b,"stage",function(a){b.stages.hasOwnProperty(b.stage_name)&&"Game"!==b.stage_name&&b.stages[b.stage_name].cleanup();b.stage_name=a;b.stages[b.stage_name].setup()});b.frame=function(a){if(b.stage_name&&b.stages.hasOwnProperty(b.stage_name)){var c=b.stages[b.stage_name];var d=function(){a.call(c);b.stages[b.stage_name].frame++;window.requestAnimationFrame(d)}}else d=function(){a();window.requestAnimationFrame(d)};setTimeout(d,0);return function(){d=
function(){}}};b.keydown={};window.addEventListener("keydown",function(a){b.keydown[a.keyCode]=!0});window.addEventListener("keyup",function(a){b.keydown[a.keyCode]=!1});for(h=0;200>h;h++)b.keydown[h]=!1;b.positionOffset={__x:0,__y:0};e(b.positionOffset,"x",function(a){a=0;for(var c=b.stages[b.stage_name].objects;a<c.length;a++){var d=c[a];d.x=d.x}});e(b.positionOffset,"y",function(a){a=0;for(var c=b.stages[b.stage_name].objects;a<c.length;a++){var d=c[a];d.y=d.y}});b.run=function(a,c,d){return b.stages[a]=
new l({frame:0,objects:[],setup_func:c,frame_func:d,stop_frame_func:void 0,setup_run:!1,stage:a})};b.container=document.createElement("div");b.container.className="qj-container";document.getElementsByTagName("body")[0].appendChild(b.container);b.style=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(b.style);b.style.innerHTML="\n\n\n/* css styling for the qj library */\n\n/* all qj objects are wrapped in a .qj-container */\nbody {\n\t/* ensure that .qj-container is at the extreme top left */\n\tpadding: 0;\n\tmargin: 0;\n}\n.qj-container {\n\toverflow: hidden;\n\tposition: relative;\n\twidth: "+
b.width+"px;\n\theight: "+b.height+"px;\n}\n\n/* each qj object has a .qj class */\n.qj {\n\tposition: absolute;\n\n\t/* make text vertically and horizontally align */\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t/* box-sizing properties to ensure padding/border does not affect width */\n\t-webkit-box-sizing: border-box; \n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n\n\t/* make all text unselectable */\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n}\n\n\n/* following styles are code-generated and minified */\n"})(qj||
(qj={}));